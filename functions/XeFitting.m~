classdef XeFitting < handle
    
    properties
        
        parameters
        
        lower
        upper
        steps
        
        curve
        
    end
    
    methods
        
        function this = XeFitting(varargin)
            
            this.parameters = {'Angle-Offset', 'Scale-Factor', 'Background', 'Concentration', 'Layer'};
            
            values = { [0, 0, -100, 50, 2], [0.01, 100, 100, 50, 1], 20 };
            values(1:length(varargin)) = varargin;
            
            this.lower = values{1};
            this.upper = values{2};
            this.steps = values{3};
            
        end
        
        function para = fitParameters(this)
             
            para = this.parameters(this.varied);
            
        end
        
        function location = fixed(this)
            
            location = this.lower == this.upper;
            
        end
        
        function location = varied(this)
            
            location = this.lower ~= this.upper;
            
        end
        
        function lb = lb(this)
            
            lb = this.lower(this.varied);
            
        end
        
        function ub = realUpperBounds(this)
            
            ub = this.upper(this.varied);
            
        end
        
        function st = realStarts(this)
            
            st = this.start(this.varied);
            
        end
        
        function fp = fullParameter(this, fittingStart)
            
            fp = this.start;
            fp(this.varied) = fittingStart;
            
        end
        
        
    end
    
end